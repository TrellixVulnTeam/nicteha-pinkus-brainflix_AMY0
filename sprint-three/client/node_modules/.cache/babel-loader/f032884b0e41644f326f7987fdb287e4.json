{"ast":null,"code":"var _jsxFileName = \"/home/nickyii/Brainstation/nicteha-pinkus-brainflix/sprint-three/client/src/pages/Main/Main.jsx\";\nimport React, { Component } from 'react';\nimport './Main.scss';\nimport MainVideo from '../../components/MainVideo/MainVideo';\nimport Intro from '../../components/Intro/Intro';\nimport Form from '../../components/Form/Form';\nimport Comments from '../../components/Comments/Comments';\nimport Aside from '../../components/Aside/Aside';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet API_URL = 'http://localhost:8080/';\n\nclass Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      video: [],\n      mainVideo: null\n    };\n\n    this.getCurrentVideo = videoId => axios.get(`${API_URL}${videoId}`).then(response => {\n      console.log(response);\n      this.setState({\n        mainVideo: response.data[0]\n      });\n    });\n\n    this.handleClick = videoId => {\n      let copyData = [...this.state.video];\n      let videoIndex = copyData.findIndex(videos => {\n        return videos.id === videoId;\n      });\n      let clickedVideo = copyData[videoIndex];\n      console.log(clickedVideo);\n      let updatedVideos = copyData.filter(video => {\n        return video.id !== videoId;\n      });\n      updatedVideos.unshift(clickedVideo);\n      this.setState({\n        video: updatedVideos // mainVideo: this.state.mainVideo[videoIndex]\n\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${API_URL}videos`).then(res => {\n      console.log(res.data);\n      this.setState({\n        video: res.data,\n        mainVideo: res.data[0]\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  } // getVideos = () => {\n  //   axios.get (`${API_URL}?api_key=${API_KEY}`)\n  //   .then ((response) => {\n  //     console.log(response.data)\n  //     this.setState({\n  //       video: response.data,\n  //     })\n  //   })\n  // }\n\n\n  // componentDidMount() {\n  //   this.getVideos();\n  //   this.getCurrentVideo(\"1af0jruup5gu\");\n  //   }\n  componentDidUpdate(prevProps) {\n    let videoId = this.props.match.params.videoId;\n\n    if (prevProps.match.params.videoId !== videoId) {\n      return this.getCurrentVideo(videoId);\n    }\n  }\n\n  render() {\n    if (this.state.mainVideo === null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(MainVideo, {\n        videos: this.state.mainVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main__body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__main-body\",\n          children: [/*#__PURE__*/_jsxDEV(Intro, {\n            videoInfo: this.state.mainVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            commentCount: this.state.mainVideo.comments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Comments, {\n            comments: this.state.mainVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Aside, {\n          className: \"main__aside\",\n          videos: this.state.video,\n          clickEvent: this.handleClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/home/nickyii/Brainstation/nicteha-pinkus-brainflix/sprint-three/client/src/pages/Main/Main.jsx"],"names":["React","Component","MainVideo","Intro","Form","Comments","Aside","axios","API_URL","Main","state","video","mainVideo","getCurrentVideo","videoId","get","then","response","console","log","setState","data","handleClick","copyData","videoIndex","findIndex","videos","id","clickedVideo","updatedVideos","filter","unshift","componentDidMount","res","catch","err","componentDidUpdate","prevProps","props","match","params","render","comments"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Main.scss'\nimport MainVideo from '../../components/MainVideo/MainVideo';\nimport Intro from '../../components/Intro/Intro';\nimport Form from '../../components/Form/Form';\nimport Comments from '../../components/Comments/Comments'\nimport Aside from '../../components/Aside/Aside'\nimport axios from 'axios';\n\nlet API_URL = 'http://localhost:8080/'\n\n\nclass Main extends Component {  \n  state = { video: [],\n            mainVideo: null,\n            }\n\n  componentDidMount() {\n    axios.get(`${API_URL}videos`)\n    .then ((res) => {\n      console.log(res.data)\n      this.setState({\n        video: res.data,\n        mainVideo: res.data[0]\n\n      })\n    })\n    .catch ((err) => {\n      console.log(err)\n    })\n  }\n\n  // getVideos = () => {\n  //   axios.get (`${API_URL}?api_key=${API_KEY}`)\n  //   .then ((response) => {\n  //     console.log(response.data)\n\n  //     this.setState({\n  //       video: response.data,\n  //     })\n  //   })\n  // }\n  \n\n  getCurrentVideo = (videoId) => \n    axios.get(`${API_URL}${videoId}`)\n    .then(response => {\n      console.log(response)\n      this.setState({\n        mainVideo: response.data[0]\n      })\n    })\n\n  // componentDidMount() {\n  //   this.getVideos();\n  //   this.getCurrentVideo(\"1af0jruup5gu\");\n  //   }\n    \n    \n  componentDidUpdate(prevProps) {\n    let videoId = this.props.match.params.videoId;\n    if (prevProps.match.params.videoId !== videoId) {\n     return this.getCurrentVideo(videoId);\n    }\n  }\n\n\n  handleClick = (videoId) => {\n    let copyData= [...this.state.video]\n    let videoIndex= copyData.findIndex(videos => {\n     return videos.id === videoId \n    })\n    let clickedVideo = copyData[videoIndex]\n    console.log(clickedVideo);\n    let updatedVideos = copyData.filter(video => {\n      return video.id !== videoId\n    })\n    updatedVideos.unshift(clickedVideo);\n\n    this.setState({\n      video: updatedVideos ,\n      // mainVideo: this.state.mainVideo[videoIndex]\n    })\n  }\n      \n  render() {\n  if (this.state.mainVideo === null) {\n      return <div> Loading...</div>\n    }\n  return (\n    <div className=\"main\">\n     <MainVideo videos={this.state.mainVideo}/>\n     <div className='main__body'>\n        <div className='main__main-body'>\n          <Intro videoInfo={this.state.mainVideo}/>\n          <Form commentCount={this.state.mainVideo.comments}/>\n          <Comments comments={this.state.mainVideo}/>\n        </div>\n        <Aside className='main__aside' videos={this.state.video} clickEvent={this.handleClick}/>\n    </div>\n    </div>\n  );\n}}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}