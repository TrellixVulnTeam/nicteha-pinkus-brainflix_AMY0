{"ast":null,"code":"var _jsxFileName = \"/home/nickyii/Brainstation/nicteha-pinkus-brainflix/sprint-three/client/src/pages/Main/Main.jsx\";\nimport React, { Component } from 'react';\nimport './Main.scss';\nimport MainVideo from '../../components/MainVideo/MainVideo';\nimport Intro from '../../components/Intro/Intro';\nimport Form from '../../components/Form/Form';\nimport Comments from '../../components/Comments/Comments';\nimport Aside from '../../components/Aside/Aside';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet API_KEY = 'nicky';\nlet API_URL = 'https://project-2-api.herokuapp.com/videos/';\n\nclass Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      video: [],\n      mainVideo: null\n    };\n\n    this.getVideos = () => {\n      axios.get(`${API_URL}?api_key=${API_KEY}`).then(response => {\n        this.setState({\n          video: response.data\n        });\n      });\n    };\n\n    this.getMainVideo = () => {\n      axios.get(`${API_URL}1af0jruup5gu/?api_key=${API_KEY}`).then(response => {\n        this.setState({\n          mainVideo: response.data\n        });\n      });\n    };\n\n    this.getCurrentVideo = videoId => axios.get(`${API_URL}${videoId}/?api_key=${API_KEY}`).then(response => {\n      console.log(response);\n      this.setState({\n        mainVideo: response.data\n      });\n    });\n\n    this.handleClick = videoId => {\n      let copyData = [...this.state.video];\n      let videoIndex = copyData.findIndex(videos => {\n        return videos.id === videoId;\n      });\n      let clickedVideo = copyData[videoIndex];\n      console.log(clickedVideo);\n      let updatedVideos = copyData.filter(video => {\n        return video.id !== videoId;\n      });\n      updatedVideos.unshift(clickedVideo);\n      this.setState({\n        video: updatedVideos\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http:localhost:8080/videos').then(res => {\n      this.setState({\n        video: res.data\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getVideos();\n    this.getMainVideo();\n  }\n\n  componentDidUpdate(prevProps) {\n    let videoId = this.props.match.params.videoId;\n\n    if (prevProps.match.params.videoId !== videoId) {\n      return this.getCurrentVideo(videoId);\n    }\n  }\n\n  render() {\n    if (this.state.mainVideo === null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(MainVideo, {\n        videos: this.state.mainVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main__body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__main-body\",\n          children: [/*#__PURE__*/_jsxDEV(Intro, {\n            videoInfo: this.state.mainVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            commentCount: this.state.mainVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Comments, {\n            comments: this.state.mainVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Aside, {\n          className: \"main__aside\",\n          videos: this.state.video,\n          clickEvent: this.handleClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/home/nickyii/Brainstation/nicteha-pinkus-brainflix/sprint-three/client/src/pages/Main/Main.jsx"],"names":["React","Component","MainVideo","Intro","Form","Comments","Aside","axios","API_KEY","API_URL","Main","state","video","mainVideo","getVideos","get","then","response","setState","data","getMainVideo","getCurrentVideo","videoId","console","log","handleClick","copyData","videoIndex","findIndex","videos","id","clickedVideo","updatedVideos","filter","unshift","componentDidMount","res","componentDidUpdate","prevProps","props","match","params","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Main.scss'\nimport MainVideo from '../../components/MainVideo/MainVideo';\nimport Intro from '../../components/Intro/Intro';\nimport Form from '../../components/Form/Form';\nimport Comments from '../../components/Comments/Comments'\nimport Aside from '../../components/Aside/Aside'\nimport axios from 'axios';\n\nlet API_KEY = 'nicky'\nlet API_URL = 'https://project-2-api.herokuapp.com/videos/'\n\n\nclass Main extends Component {  \n  state = { video: [],\n            mainVideo: null,\n            }\n\n  componentDidMount() {\n    axios.get('http:localhost:8080/videos')\n    .then ((res) => {\n      this.setState({\n        video: res.data\n      })\n    })\n  }\n\n  getVideos = () => {\n    axios.get (`${API_URL}?api_key=${API_KEY}`)\n    .then ((response) => {\n      this.setState({\n        video: response.data,\n      })\n    })\n  }\n  \n  getMainVideo = () => {\n    axios.get(`${API_URL}1af0jruup5gu/?api_key=${API_KEY}`)\n    .then(response => {\n      this.setState({\n        mainVideo: response.data\n      })\n    })\n  }\n\n  getCurrentVideo = (videoId) => \n    axios.get(`${API_URL}${videoId}/?api_key=${API_KEY}`)\n    .then(response => {\n      console.log(response)\n      this.setState({\n        mainVideo: response.data\n      })\n    })\n\n  componentDidMount() {\n    this.getVideos();\n    this.getMainVideo();\n    }\n    \n    \n  componentDidUpdate(prevProps) {\n    let videoId = this.props.match.params.videoId;\n    if (prevProps.match.params.videoId !== videoId) {\n     return this.getCurrentVideo(videoId);\n    }\n  }\n\n\n  handleClick = (videoId) => {\n    let copyData= [...this.state.video]\n    let videoIndex= copyData.findIndex(videos => {\n     return videos.id === videoId \n    })\n    let clickedVideo = copyData[videoIndex]\n    console.log(clickedVideo);\n    let updatedVideos = copyData.filter(video => {\n      return video.id !== videoId\n    })\n    updatedVideos.unshift(clickedVideo);\n\n    this.setState({\n      video: updatedVideos \n    })\n  }\n      \n  render() {\n  if (this.state.mainVideo === null) {\n      return <div> Loading...</div>\n    }\n  return (\n    <div className=\"main\">\n     <MainVideo videos={this.state.mainVideo}/>\n     <div className='main__body'>\n        <div className='main__main-body'>\n          <Intro videoInfo={this.state.mainVideo}/>\n          <Form commentCount={this.state.mainVideo}/>\n          <Comments comments={this.state.mainVideo}/>\n        </div>\n        <Aside className='main__aside' videos={this.state.video} clickEvent={this.handleClick}/>\n    </div>\n    </div>\n  );\n}}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}